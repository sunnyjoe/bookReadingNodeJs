<html>

   <body>
    <p>还书: <p/>
      <div id="first" class="tabcontent">

         <br>
          书名:<%=name%>
         <br>
		       作者:<%=author%>
         <br>

         <br>

         <input type="text" id = "reader" placeholder="借阅者姓名" >

         <br><br>
         <br>
         <button type="button" onclick="confirm()">确定借书</button>
         <br>

      </div>


      <script>
          var bookid = getUrlVars()["bookid"];

          function confirm(){
           var xhttp = new XMLHttpRequest();
           xhttp.onreadystatechange = function() {
             if (this.readyState == 4 && this.status == 200) {
                 alert("借书成功 已经记录");
             }};

          var reader = document.getElementById("reader").value;
           xhttp.open("GET", "confirmborrow?bookid="+bookid+"&reader="+reader, true);
           xhttp.send()
         }

         function getUrlVars() {
             var vars = {};
             var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
                 vars[key] = value;
             });
             return vars;
         }

      </script>
   </body>
</html>
